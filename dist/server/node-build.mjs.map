{"version":3,"file":"node-build.mjs","sources":["../../server/routes/demo.ts","../../server/routes/auth.ts","../../server/routes/portfolio.ts","../../server/routes/activities.ts","../../server/routes/attendance.ts","../../server/routes/certificates.ts","../../server/index.ts","../../server/node-build.ts"],"sourcesContent":["import { RequestHandler } from \"express\";\nimport { DemoResponse } from \"@shared/api\";\n\nexport const handleDemo: RequestHandler = (req, res) => {\n  const response: DemoResponse = {\n    message: \"Hello from Express server\",\n  };\n  res.status(200).json(response);\n};\n","import type { RequestHandler } from \"express\";\r\nimport { randomUUID } from \"crypto\";\r\nimport fs from \"fs\";\r\nimport path from \"path\";\r\nimport { RegisterRequest, RegisterResponse, LoginRequest, LoginResponse, ApiError, UserDTO } from \"@shared/api\";\r\n\r\nconst DATA_DIR = path.resolve(process.cwd(), \"data\");\r\nconst USERS_FILE = path.join(DATA_DIR, \"users.json\");\r\n\r\nfunction ensureStore() {\r\n  if (!fs.existsSync(DATA_DIR)) fs.mkdirSync(DATA_DIR, { recursive: true });\r\n  if (!fs.existsSync(USERS_FILE)) fs.writeFileSync(USERS_FILE, JSON.stringify({ users: [] }, null, 2));\r\n}\r\n\r\ntype UserRecord = UserDTO & { passwordHash: string };\r\ninterface UserDb { users: UserRecord[] }\r\n\r\nfunction readDb(): UserDb {\r\n  ensureStore();\r\n  const raw = fs.readFileSync(USERS_FILE, \"utf8\");\r\n  return JSON.parse(raw) as UserDb;\r\n}\r\n\r\nfunction writeDb(db: UserDb) {\r\n  ensureStore();\r\n  fs.writeFileSync(USERS_FILE, JSON.stringify(db, null, 2));\r\n}\r\n\r\nfunction hashPassword(pw: string): string {\r\n  // Simple non-crypto hash for demo; replace with bcrypt/scrypt in production\r\n  const encoder = new TextEncoder();\r\n  const data = encoder.encode(pw);\r\n  let hash = 0;\r\n  for (let i = 0; i < data.length; i++) hash = (hash * 31 + data[i]) | 0;\r\n  return `h${hash >>> 0}`;\r\n}\r\n\r\nexport const handleRegister: RequestHandler = (req, res) => {\r\n  const body = req.body as RegisterRequest;\r\n  if (!body?.identifier || !body?.password || !body?.name) {\r\n    return res.status(400).json({ error: \"identifier, name and password are required\" } as ApiError);\r\n  }\r\n  const db = readDb();\r\n  const exists = db.users.find((u) => u.identifier.toLowerCase() === body.identifier.toLowerCase());\r\n  if (exists) return res.status(409).json({ error: \"User already exists\" } as ApiError);\r\n  const now = Date.now();\r\n  const user: UserRecord = {\r\n    id: randomUUID(),\r\n    identifier: body.identifier,\r\n    name: body.name,\r\n    role: body.role ?? \"student\",\r\n    createdAt: now,\r\n    passwordHash: hashPassword(body.password),\r\n  };\r\n  db.users.push(user);\r\n  writeDb(db);\r\n  const { passwordHash, ...dto } = user;\r\n  return res.status(201).json({ user: dto } as RegisterResponse);\r\n};\r\n\r\nexport const handleLogin: RequestHandler = (req, res) => {\r\n  const body = req.body as LoginRequest;\r\n  if (!body?.identifier || !body?.password) {\r\n    return res.status(400).json({ error: \"identifier and password are required\" } as ApiError);\r\n  }\r\n  const db = readDb();\r\n  const user = db.users.find((u) => u.identifier.toLowerCase() === body.identifier.toLowerCase());\r\n  if (!user) return res.status(404).json({ error: \"No registered user with that identifier\" } as ApiError);\r\n  if (user.passwordHash !== hashPassword(body.password)) return res.status(401).json({ error: \"Invalid credentials\" } as ApiError);\r\n  const { passwordHash, ...dto } = user;\r\n  return res.json({ user: dto } as LoginResponse);\r\n};\r\n\r\n\r\n","import { RequestHandler } from \"express\";\r\nimport { \r\n  GeneratePortfolioRequest, \r\n  GeneratePortfolioResponse, \r\n  PortfolioItem,\r\n  JobRole,\r\n  CertificateAnalysis,\r\n  JobRoleMatch,\r\n  ResumeSuggestion,\r\n  AnalyzeCertificatesRequest,\r\n  AnalyzeCertificatesResponse\r\n} from \"@shared/api\";\r\n\r\n// Mock job roles database\r\nconst JOB_ROLES: JobRole[] = [\r\n  {\r\n    id: \"jr_1\",\r\n    title: \"Software Developer\",\r\n    description: \"Develop and maintain software applications\",\r\n    requiredSkills: [\"JavaScript\", \"React\", \"Node.js\", \"Git\", \"Problem Solving\"],\r\n    preferredSkills: [\"TypeScript\", \"MongoDB\", \"AWS\", \"Docker\", \"Testing\"],\r\n    experienceLevel: \"entry\",\r\n    industry: \"Technology\"\r\n  },\r\n  {\r\n    id: \"jr_2\", \r\n    title: \"Data Scientist\",\r\n    description: \"Analyze data and build machine learning models\",\r\n    requiredSkills: [\"Python\", \"Machine Learning\", \"Statistics\", \"SQL\", \"Data Analysis\"],\r\n    preferredSkills: [\"TensorFlow\", \"Pandas\", \"R\", \"Deep Learning\", \"Cloud Computing\"],\r\n    experienceLevel: \"mid\",\r\n    industry: \"Technology\"\r\n  },\r\n  {\r\n    id: \"jr_3\",\r\n    title: \"Project Manager\",\r\n    description: \"Lead and coordinate project teams\",\r\n    requiredSkills: [\"Leadership\", \"Communication\", \"Planning\", \"Agile\", \"Risk Management\"],\r\n    preferredSkills: [\"PMP\", \"Scrum Master\", \"Budget Management\", \"Team Building\", \"Stakeholder Management\"],\r\n    experienceLevel: \"mid\",\r\n    industry: \"Management\"\r\n  },\r\n  {\r\n    id: \"jr_4\",\r\n    title: \"UI/UX Designer\",\r\n    description: \"Design user interfaces and experiences\",\r\n    requiredSkills: [\"Figma\", \"User Research\", \"Wireframing\", \"Prototyping\", \"Design Thinking\"],\r\n    preferredSkills: [\"Adobe Creative Suite\", \"HTML/CSS\", \"JavaScript\", \"Accessibility\", \"Animation\"],\r\n    experienceLevel: \"entry\",\r\n    industry: \"Design\"\r\n  },\r\n  {\r\n    id: \"jr_5\",\r\n    title: \"DevOps Engineer\",\r\n    description: \"Manage infrastructure and deployment pipelines\",\r\n    requiredSkills: [\"Docker\", \"Kubernetes\", \"AWS\", \"CI/CD\", \"Linux\"],\r\n    preferredSkills: [\"Terraform\", \"Monitoring\", \"Security\", \"Python\", \"Cloud Architecture\"],\r\n    experienceLevel: \"mid\",\r\n    industry: \"Technology\"\r\n  }\r\n];\r\n\r\n// Mock skill extraction and categorization\r\nfunction extractSkillsFromCertificate(certificateTitle: string): string[] {\r\n  const skillMap: Record<string, string[]> = {\r\n    \"javascript\": [\"JavaScript\", \"Programming\", \"Web Development\"],\r\n    \"react\": [\"React\", \"JavaScript\", \"Frontend Development\", \"UI/UX\"],\r\n    \"python\": [\"Python\", \"Programming\", \"Data Science\", \"Backend Development\"],\r\n    \"machine learning\": [\"Machine Learning\", \"Python\", \"Data Science\", \"AI\", \"Statistics\"],\r\n    \"data science\": [\"Data Science\", \"Python\", \"Statistics\", \"Data Analysis\", \"Machine Learning\"],\r\n    \"project management\": [\"Project Management\", \"Leadership\", \"Planning\", \"Communication\"],\r\n    \"leadership\": [\"Leadership\", \"Team Management\", \"Communication\", \"Strategic Thinking\"],\r\n    \"design\": [\"UI/UX Design\", \"Figma\", \"Creative Design\", \"User Experience\"],\r\n    \"cloud\": [\"Cloud Computing\", \"AWS\", \"DevOps\", \"Infrastructure\"],\r\n    \"database\": [\"Database Management\", \"SQL\", \"Data Modeling\", \"Backend Development\"],\r\n    \"mobile\": [\"Mobile Development\", \"React Native\", \"iOS\", \"Android\"],\r\n    \"security\": [\"Cybersecurity\", \"Security\", \"Risk Management\", \"Compliance\"],\r\n    \"networking\": [\"Networking\", \"System Administration\", \"Infrastructure\", \"Security\"],\r\n    \"testing\": [\"Testing\", \"Quality Assurance\", \"Automation\", \"Software Testing\"],\r\n    \"agile\": [\"Agile\", \"Scrum\", \"Project Management\", \"Team Collaboration\"]\r\n  };\r\n\r\n  const title = certificateTitle.toLowerCase();\r\n  const skills: string[] = [];\r\n  \r\n  for (const [keyword, skillList] of Object.entries(skillMap)) {\r\n    if (title.includes(keyword)) {\r\n      skills.push(...skillList);\r\n    }\r\n  }\r\n  \r\n  // Add some generic skills if no specific matches\r\n  if (skills.length === 0) {\r\n    skills.push(\"Problem Solving\", \"Communication\", \"Learning\");\r\n  }\r\n  \r\n  return [...new Set(skills)]; // Remove duplicates\r\n}\r\n\r\nfunction categorizeCertificate(certificateTitle: string, skills: string[]): 'academic' | 'professional' | 'technical' | 'leadership' | 'creative' {\r\n  const title = certificateTitle.toLowerCase();\r\n  \r\n  if (title.includes('leadership') || title.includes('management') || skills.some(s => s.toLowerCase().includes('leadership'))) {\r\n    return 'leadership';\r\n  }\r\n  if (title.includes('design') || title.includes('ui') || title.includes('ux') || skills.some(s => s.toLowerCase().includes('design'))) {\r\n    return 'creative';\r\n  }\r\n  if (title.includes('data') || title.includes('machine learning') || title.includes('python') || skills.some(s => s.toLowerCase().includes('data'))) {\r\n    return 'technical';\r\n  }\r\n  if (title.includes('project') || title.includes('business') || skills.some(s => s.toLowerCase().includes('management'))) {\r\n    return 'professional';\r\n  }\r\n  \r\n  return 'academic';\r\n}\r\n\r\nfunction calculateRelevanceScore(skills: string[], jobSkills: string[]): number {\r\n  const matchedSkills = skills.filter(skill => \r\n    jobSkills.some(jobSkill => \r\n      skill.toLowerCase().includes(jobSkill.toLowerCase()) || \r\n      jobSkill.toLowerCase().includes(skill.toLowerCase())\r\n    )\r\n  );\r\n  \r\n  return Math.round((matchedSkills.length / jobSkills.length) * 100);\r\n}\r\n\r\nexport const generatePortfolio: RequestHandler = async (req, res) => {\r\n  try {\r\n    const { studentId, includeAllCertificates = true, selectedCertificates = [] }: GeneratePortfolioRequest = req.body;\r\n    \r\n    // In a real application, you would fetch certificates from database\r\n    // For now, we'll simulate with mock data\r\n    const mockCertificates = [\r\n      { id: \"cert_1\", studentId, title: \"JavaScript Fundamentals\", activityId: \"act_1\" },\r\n      { id: \"cert_2\", studentId, title: \"React Development Workshop\", activityId: \"act_2\" },\r\n      { id: \"cert_3\", studentId, title: \"Python for Data Science\", activityId: \"act_3\" },\r\n      { id: \"cert_4\", studentId, title: \"Leadership Skills Training\", activityId: \"act_4\" },\r\n      { id: \"cert_5\", studentId, title: \"UI/UX Design Principles\", activityId: \"act_5\" }\r\n    ];\r\n    \r\n    const certificatesToProcess = includeAllCertificates \r\n      ? mockCertificates \r\n      : mockCertificates.filter(cert => selectedCertificates.includes(cert.id));\r\n    \r\n    const portfolioItems: PortfolioItem[] = certificatesToProcess.map(cert => {\r\n      const skills = extractSkillsFromCertificate(cert.title);\r\n      const category = categorizeCertificate(cert.title, skills);\r\n      \r\n      return {\r\n        id: `portfolio_${cert.id}`,\r\n        studentId: cert.studentId,\r\n        certificateId: cert.id,\r\n        title: cert.title,\r\n        description: `Portfolio item generated from ${cert.title} certificate. Demonstrates expertise in ${skills.slice(0, 3).join(', ')}.`,\r\n        skills,\r\n        category,\r\n        relevanceScore: 85, // Mock score\r\n        generatedAt: Date.now()\r\n      };\r\n    });\r\n    \r\n    const response: GeneratePortfolioResponse = {\r\n      portfolioItems,\r\n      totalItems: portfolioItems.length,\r\n      generatedAt: Date.now()\r\n    };\r\n    \r\n    res.json(response);\r\n  } catch (error) {\r\n    console.error('Error generating portfolio:', error);\r\n    res.status(500).json({ error: 'Failed to generate portfolio' });\r\n  }\r\n};\r\n\r\nexport const analyzeCertificates: RequestHandler = async (req, res) => {\r\n  try {\r\n    const { studentId, jobRoleId }: AnalyzeCertificatesRequest = req.body;\r\n    \r\n    // Mock certificates data\r\n    const mockCertificates = [\r\n      { id: \"cert_1\", studentId, title: \"JavaScript Fundamentals\", activityId: \"act_1\" },\r\n      { id: \"cert_2\", studentId, title: \"React Development Workshop\", activityId: \"act_2\" },\r\n      { id: \"cert_3\", studentId, title: \"Python for Data Science\", activityId: \"act_3\" },\r\n      { id: \"cert_4\", studentId, title: \"Leadership Skills Training\", activityId: \"act_4\" },\r\n      { id: \"cert_5\", studentId, title: \"UI/UX Design Principles\", activityId: \"act_5\" }\r\n    ];\r\n    \r\n    const analysis: CertificateAnalysis[] = mockCertificates.map(cert => {\r\n      const skills = extractSkillsFromCertificate(cert.title);\r\n      const category = categorizeCertificate(cert.title, skills);\r\n      \r\n      // Calculate job matches\r\n      const jobMatches: JobRoleMatch[] = JOB_ROLES.map(job => {\r\n        const matchScore = calculateRelevanceScore(skills, [...job.requiredSkills, ...job.preferredSkills]);\r\n        const matchedSkills = skills.filter(skill => \r\n          [...job.requiredSkills, ...job.preferredSkills].some(jobSkill => \r\n            skill.toLowerCase().includes(jobSkill.toLowerCase()) || \r\n            jobSkill.toLowerCase().includes(skill.toLowerCase())\r\n          )\r\n        );\r\n        const missingSkills = job.requiredSkills.filter(jobSkill => \r\n          !skills.some(skill => \r\n            skill.toLowerCase().includes(jobSkill.toLowerCase()) || \r\n            jobSkill.toLowerCase().includes(skill.toLowerCase())\r\n          )\r\n        );\r\n        \r\n        return {\r\n          jobRoleId: job.id,\r\n          jobTitle: job.title,\r\n          matchScore,\r\n          matchedSkills,\r\n          missingSkills,\r\n          suggestions: missingSkills.slice(0, 3) // Top 3 missing skills as suggestions\r\n        };\r\n      }).filter(match => match.matchScore > 0).sort((a, b) => b.matchScore - a.matchScore);\r\n      \r\n      return {\r\n        certificateId: cert.id,\r\n        title: cert.title,\r\n        skills,\r\n        category,\r\n        relevanceScore: Math.max(...jobMatches.map(m => m.matchScore), 0),\r\n        jobMatches: jobMatches.slice(0, 5) // Top 5 matches\r\n      };\r\n    });\r\n    \r\n    // Generate resume suggestions\r\n    const resumeSuggestions: ResumeSuggestion[] = JOB_ROLES.map(job => {\r\n      const relevantCerts = analysis.filter(a => \r\n        a.jobMatches.some(m => m.jobRoleId === job.id && m.matchScore > 30)\r\n      );\r\n      const overallMatch = relevantCerts.length > 0 \r\n        ? Math.round(relevantCerts.reduce((sum, a) => sum + a.relevanceScore, 0) / relevantCerts.length)\r\n        : 0;\r\n      \r\n      const priority: 'high' | 'medium' | 'low' = overallMatch > 70 ? 'high' : overallMatch > 40 ? 'medium' : 'low';\r\n      \r\n      return {\r\n        jobRoleId: job.id,\r\n        jobTitle: job.title,\r\n        recommendedCertificates: relevantCerts.map(a => a.certificateId),\r\n        overallMatch,\r\n        reasoning: overallMatch > 70 \r\n          ? `Strong match with ${relevantCerts.length} relevant certificates`\r\n          : overallMatch > 40 \r\n          ? `Moderate match with some relevant skills`\r\n          : `Limited match - consider additional training in ${job.requiredSkills.slice(0, 3).join(', ')}`,\r\n        priority\r\n      };\r\n    }).filter(s => s.overallMatch > 20).sort((a, b) => b.overallMatch - a.overallMatch);\r\n    \r\n    // Calculate overall profile\r\n    const allSkills = [...new Set(analysis.flatMap(a => a.skills))];\r\n    const skillCategories = analysis.reduce((acc, a) => {\r\n      if (!acc[a.category]) acc[a.category] = [];\r\n      acc[a.category].push(...a.skills);\r\n      return acc;\r\n    }, {} as Record<string, string[]>);\r\n    \r\n    const strengths = Object.entries(skillCategories)\r\n      .sort(([,a], [,b]) => b.length - a.length)\r\n      .slice(0, 3)\r\n      .map(([category]) => category);\r\n    \r\n    const improvementAreas = JOB_ROLES\r\n      .flatMap(job => job.requiredSkills)\r\n      .filter(skill => !allSkills.some(s => s.toLowerCase().includes(skill.toLowerCase())))\r\n      .slice(0, 5);\r\n    \r\n    const response: AnalyzeCertificatesResponse = {\r\n      analysis,\r\n      resumeSuggestions,\r\n      overallProfile: {\r\n        totalSkills: allSkills,\r\n        skillCategories,\r\n        strengths,\r\n        improvementAreas\r\n      }\r\n    };\r\n    \r\n    res.json(response);\r\n  } catch (error) {\r\n    console.error('Error analyzing certificates:', error);\r\n    res.status(500).json({ error: 'Failed to analyze certificates' });\r\n  }\r\n};\r\n\r\nexport const getJobRoles: RequestHandler = async (req, res) => {\r\n  try {\r\n    res.json({ jobRoles: JOB_ROLES });\r\n  } catch (error) {\r\n    console.error('Error fetching job roles:', error);\r\n    res.status(500).json({ error: 'Failed to fetch job roles' });\r\n  }\r\n};\r\n","import { RequestHandler } from \"express\";\r\nimport fs from \"fs\";\r\nimport path from \"path\";\r\nimport { randomUUID } from \"crypto\";\r\n\r\nconst DATA_DIR = path.resolve(process.cwd(), \"data\");\r\nconst ACTIVITIES_FILE = path.join(DATA_DIR, \"activities.json\");\r\nconst APPLICATIONS_FILE = path.join(DATA_DIR, \"student_applications.json\");\r\n\r\ninterface Activity {\r\n  id: string;\r\n  title: string;\r\n  description: string;\r\n  type: 'workshop' | 'course' | 'seminar' | 'internship';\r\n  category: 'academic' | 'professional' | 'technical' | 'leadership' | 'creative';\r\n  instructor: string;\r\n  startDate: string;\r\n  endDate: string;\r\n  duration: string;\r\n  maxParticipants: number;\r\n  currentParticipants: number;\r\n  status: 'upcoming' | 'ongoing' | 'completed' | 'cancelled';\r\n  skills: string[];\r\n  certificateTemplate: string;\r\n  requirements: string[];\r\n  location: string;\r\n  createdAt: number;\r\n}\r\n\r\ninterface Application {\r\n  id: string;\r\n  studentId: string;\r\n  activityId: string;\r\n  status: 'pending' | 'approved' | 'rejected' | 'completed';\r\n  appliedDate: string;\r\n  approvedDate: string | null;\r\n  approvedBy: string | null;\r\n  notes: string;\r\n  createdAt: number;\r\n}\r\n\r\ninterface ActivitiesDb {\r\n  activities: Activity[];\r\n}\r\n\r\ninterface ApplicationsDb {\r\n  applications: Application[];\r\n}\r\n\r\nfunction readActivities(): ActivitiesDb {\r\n  if (!fs.existsSync(ACTIVITIES_FILE)) {\r\n    return { activities: [] };\r\n  }\r\n  const raw = fs.readFileSync(ACTIVITIES_FILE, \"utf8\");\r\n  return JSON.parse(raw) as ActivitiesDb;\r\n}\r\n\r\nfunction writeActivities(db: ActivitiesDb) {\r\n  fs.writeFileSync(ACTIVITIES_FILE, JSON.stringify(db, null, 2));\r\n}\r\n\r\nfunction readApplications(): ApplicationsDb {\r\n  if (!fs.existsSync(APPLICATIONS_FILE)) {\r\n    return { applications: [] };\r\n  }\r\n  const raw = fs.readFileSync(APPLICATIONS_FILE, \"utf8\");\r\n  return JSON.parse(raw) as ApplicationsDb;\r\n}\r\n\r\nfunction writeApplications(db: ApplicationsDb) {\r\n  fs.writeFileSync(APPLICATIONS_FILE, JSON.stringify(db, null, 2));\r\n}\r\n\r\nexport const getActivities: RequestHandler = (req, res) => {\r\n  try {\r\n    const { type, category, status } = req.query;\r\n    const db = readActivities();\r\n    \r\n    let activities = db.activities;\r\n    \r\n    if (type) {\r\n      activities = activities.filter(activity => activity.type === type);\r\n    }\r\n    \r\n    if (category) {\r\n      activities = activities.filter(activity => activity.category === category);\r\n    }\r\n    \r\n    if (status) {\r\n      activities = activities.filter(activity => activity.status === status);\r\n    }\r\n    \r\n    res.json({ activities });\r\n  } catch (error) {\r\n    console.error('Error fetching activities:', error);\r\n    res.status(500).json({ error: 'Failed to fetch activities' });\r\n  }\r\n};\r\n\r\nexport const getActivityById: RequestHandler = (req, res) => {\r\n  try {\r\n    const { id } = req.params;\r\n    const db = readActivities();\r\n    const activity = db.activities.find(a => a.id === id);\r\n    \r\n    if (!activity) {\r\n      return res.status(404).json({ error: 'Activity not found' });\r\n    }\r\n    \r\n    res.json({ activity });\r\n  } catch (error) {\r\n    console.error('Error fetching activity:', error);\r\n    res.status(500).json({ error: 'Failed to fetch activity' });\r\n  }\r\n};\r\n\r\nexport const createActivity: RequestHandler = (req, res) => {\r\n  try {\r\n    const activityData = req.body;\r\n    const db = readActivities();\r\n    \r\n    const newActivity: Activity = {\r\n      id: randomUUID(),\r\n      ...activityData,\r\n      currentParticipants: 0,\r\n      createdAt: Date.now()\r\n    };\r\n    \r\n    db.activities.push(newActivity);\r\n    writeActivities(db);\r\n    \r\n    res.status(201).json({ activity: newActivity });\r\n  } catch (error) {\r\n    console.error('Error creating activity:', error);\r\n    res.status(500).json({ error: 'Failed to create activity' });\r\n  }\r\n};\r\n\r\nexport const applyToActivity: RequestHandler = (req, res) => {\r\n  try {\r\n    const { studentId, activityId } = req.body;\r\n    const activitiesDb = readActivities();\r\n    const applicationsDb = readApplications();\r\n    \r\n    const activity = activitiesDb.activities.find(a => a.id === activityId);\r\n    if (!activity) {\r\n      return res.status(404).json({ error: 'Activity not found' });\r\n    }\r\n    \r\n    // Check if already applied\r\n    const existingApplication = applicationsDb.applications.find(\r\n      app => app.studentId === studentId && app.activityId === activityId\r\n    );\r\n    \r\n    if (existingApplication) {\r\n      return res.status(409).json({ error: 'Already applied to this activity' });\r\n    }\r\n    \r\n    // Check if activity is full\r\n    if (activity.currentParticipants >= activity.maxParticipants) {\r\n      return res.status(400).json({ error: 'Activity is full' });\r\n    }\r\n    \r\n    const newApplication: Application = {\r\n      id: randomUUID(),\r\n      studentId,\r\n      activityId,\r\n      status: 'pending',\r\n      appliedDate: new Date().toISOString().split('T')[0],\r\n      approvedDate: null,\r\n      approvedBy: null,\r\n      notes: '',\r\n      createdAt: Date.now()\r\n    };\r\n    \r\n    applicationsDb.applications.push(newApplication);\r\n    writeApplications(applicationsDb);\r\n    \r\n    res.status(201).json({ application: newApplication });\r\n  } catch (error) {\r\n    console.error('Error applying to activity:', error);\r\n    res.status(500).json({ error: 'Failed to apply to activity' });\r\n  }\r\n};\r\n\r\nexport const getStudentApplications: RequestHandler = (req, res) => {\r\n  try {\r\n    const { studentId } = req.params;\r\n    const applicationsDb = readApplications();\r\n    const activitiesDb = readActivities();\r\n    \r\n    const applications = applicationsDb.applications\r\n      .filter(app => app.studentId === studentId)\r\n      .map(app => {\r\n        const activity = activitiesDb.activities.find(a => a.id === app.activityId);\r\n        return {\r\n          ...app,\r\n          activity: activity || null\r\n        };\r\n      });\r\n    \r\n    res.json({ applications });\r\n  } catch (error) {\r\n    console.error('Error fetching student applications:', error);\r\n    res.status(500).json({ error: 'Failed to fetch applications' });\r\n  }\r\n};\r\n\r\nexport const updateApplicationStatus: RequestHandler = (req, res) => {\r\n  try {\r\n    const { applicationId } = req.params;\r\n    const { status, notes, approvedBy } = req.body;\r\n    \r\n    const applicationsDb = readApplications();\r\n    const application = applicationsDb.applications.find(app => app.id === applicationId);\r\n    \r\n    if (!application) {\r\n      return res.status(404).json({ error: 'Application not found' });\r\n    }\r\n    \r\n    application.status = status;\r\n    application.notes = notes || application.notes;\r\n    \r\n    if (status === 'approved') {\r\n      application.approvedDate = new Date().toISOString().split('T')[0];\r\n      application.approvedBy = approvedBy;\r\n      \r\n      // Update activity participant count\r\n      const activitiesDb = readActivities();\r\n      const activity = activitiesDb.activities.find(a => a.id === application.activityId);\r\n      if (activity) {\r\n        activity.currentParticipants += 1;\r\n        writeActivities(activitiesDb);\r\n      }\r\n    }\r\n    \r\n    writeApplications(applicationsDb);\r\n    \r\n    res.json({ application });\r\n  } catch (error) {\r\n    console.error('Error updating application status:', error);\r\n    res.status(500).json({ error: 'Failed to update application status' });\r\n  }\r\n};\r\n","import { RequestHandler } from \"express\";\r\nimport fs from \"fs\";\r\nimport path from \"path\";\r\nimport { randomUUID } from \"crypto\";\r\n\r\nconst DATA_DIR = path.resolve(process.cwd(), \"data\");\r\nconst ATTENDANCE_FILE = path.join(DATA_DIR, \"attendance.json\");\r\nconst ACTIVITIES_FILE = path.join(DATA_DIR, \"activities.json\");\r\n\r\ninterface AttendanceRecord {\r\n  id: string;\r\n  studentId: string;\r\n  activityId: string;\r\n  date: string;\r\n  status: 'present' | 'absent' | 'late' | 'excused';\r\n  markedBy: string;\r\n  notes: string;\r\n  createdAt: number;\r\n}\r\n\r\ninterface Activity {\r\n  id: string;\r\n  title: string;\r\n  startDate: string;\r\n  endDate: string;\r\n  status: string;\r\n}\r\n\r\ninterface AttendanceDb {\r\n  attendance: AttendanceRecord[];\r\n}\r\n\r\ninterface ActivitiesDb {\r\n  activities: Activity[];\r\n}\r\n\r\nfunction readAttendance(): AttendanceDb {\r\n  if (!fs.existsSync(ATTENDANCE_FILE)) {\r\n    return { attendance: [] };\r\n  }\r\n  const raw = fs.readFileSync(ATTENDANCE_FILE, \"utf8\");\r\n  return JSON.parse(raw) as AttendanceDb;\r\n}\r\n\r\nfunction writeAttendance(db: AttendanceDb) {\r\n  fs.writeFileSync(ATTENDANCE_FILE, JSON.stringify(db, null, 2));\r\n}\r\n\r\nfunction readActivities(): ActivitiesDb {\r\n  if (!fs.existsSync(ACTIVITIES_FILE)) {\r\n    return { activities: [] };\r\n  }\r\n  const raw = fs.readFileSync(ACTIVITIES_FILE, \"utf8\");\r\n  return JSON.parse(raw) as ActivitiesDb;\r\n}\r\n\r\nexport const getAttendanceByStudent: RequestHandler = (req, res) => {\r\n  try {\r\n    const { studentId } = req.params;\r\n    const { activityId, startDate, endDate } = req.query;\r\n    \r\n    const attendanceDb = readAttendance();\r\n    const activitiesDb = readActivities();\r\n    \r\n    let attendance = attendanceDb.attendance.filter(record => record.studentId === studentId);\r\n    \r\n    if (activityId) {\r\n      attendance = attendance.filter(record => record.activityId === activityId);\r\n    }\r\n    \r\n    if (startDate && endDate) {\r\n      attendance = attendance.filter(record => {\r\n        const recordDate = new Date(record.date);\r\n        return recordDate >= new Date(startDate as string) && recordDate <= new Date(endDate as string);\r\n      });\r\n    }\r\n    \r\n    // Add activity details\r\n    const attendanceWithDetails = attendance.map(record => {\r\n      const activity = activitiesDb.activities.find(a => a.id === record.activityId);\r\n      return {\r\n        ...record,\r\n        activity: activity || null\r\n      };\r\n    });\r\n    \r\n    res.json({ attendance: attendanceWithDetails });\r\n  } catch (error) {\r\n    console.error('Error fetching attendance:', error);\r\n    res.status(500).json({ error: 'Failed to fetch attendance' });\r\n  }\r\n};\r\n\r\nexport const getAttendanceByActivity: RequestHandler = (req, res) => {\r\n  try {\r\n    const { activityId } = req.params;\r\n    const { date } = req.query;\r\n    \r\n    const attendanceDb = readAttendance();\r\n    const activitiesDb = readActivities();\r\n    \r\n    let attendance = attendanceDb.attendance.filter(record => record.activityId === activityId);\r\n    \r\n    if (date) {\r\n      attendance = attendance.filter(record => record.date === date);\r\n    }\r\n    \r\n    // Add activity details\r\n    const activity = activitiesDb.activities.find(a => a.id === activityId);\r\n    \r\n    res.json({ \r\n      attendance,\r\n      activity: activity || null\r\n    });\r\n  } catch (error) {\r\n    console.error('Error fetching attendance by activity:', error);\r\n    res.status(500).json({ error: 'Failed to fetch attendance' });\r\n  }\r\n};\r\n\r\nexport const markAttendance: RequestHandler = (req, res) => {\r\n  try {\r\n    const { activityId } = req.params;\r\n    const { studentId, status, notes, markedBy } = req.body;\r\n    const date = req.body.date || new Date().toISOString().split('T')[0];\r\n    \r\n    const attendanceDb = readAttendance();\r\n    \r\n    // Check if attendance already marked for this student on this date\r\n    const existingRecord = attendanceDb.attendance.find(\r\n      record => record.studentId === studentId && \r\n                record.activityId === activityId && \r\n                record.date === date\r\n    );\r\n    \r\n    if (existingRecord) {\r\n      // Update existing record\r\n      existingRecord.status = status;\r\n      existingRecord.notes = notes || existingRecord.notes;\r\n      existingRecord.markedBy = markedBy;\r\n    } else {\r\n      // Create new record\r\n      const newRecord: AttendanceRecord = {\r\n        id: randomUUID(),\r\n        studentId,\r\n        activityId,\r\n        date,\r\n        status,\r\n        markedBy,\r\n        notes: notes || '',\r\n        createdAt: Date.now()\r\n      };\r\n      attendanceDb.attendance.push(newRecord);\r\n    }\r\n    \r\n    writeAttendance(attendanceDb);\r\n    \r\n    res.json({ \r\n      message: 'Attendance marked successfully',\r\n      attendance: existingRecord || attendanceDb.attendance[attendanceDb.attendance.length - 1]\r\n    });\r\n  } catch (error) {\r\n    console.error('Error marking attendance:', error);\r\n    res.status(500).json({ error: 'Failed to mark attendance' });\r\n  }\r\n};\r\n\r\nexport const getAttendanceStats: RequestHandler = (req, res) => {\r\n  try {\r\n    const { studentId } = req.params;\r\n    const { activityId } = req.query;\r\n    \r\n    const attendanceDb = readAttendance();\r\n    \r\n    let records = attendanceDb.attendance.filter(record => record.studentId === studentId);\r\n    \r\n    if (activityId) {\r\n      records = records.filter(record => record.activityId === activityId);\r\n    }\r\n    \r\n    const totalDays = records.length;\r\n    const presentDays = records.filter(record => record.status === 'present').length;\r\n    const absentDays = records.filter(record => record.status === 'absent').length;\r\n    const lateDays = records.filter(record => record.status === 'late').length;\r\n    const excusedDays = records.filter(record => record.status === 'excused').length;\r\n    \r\n    const attendancePercentage = totalDays > 0 ? Math.round((presentDays / totalDays) * 100) : 0;\r\n    \r\n    res.json({\r\n      totalDays,\r\n      presentDays,\r\n      absentDays,\r\n      lateDays,\r\n      excusedDays,\r\n      attendancePercentage\r\n    });\r\n  } catch (error) {\r\n    console.error('Error fetching attendance stats:', error);\r\n    res.status(500).json({ error: 'Failed to fetch attendance statistics' });\r\n  }\r\n};\r\n","import { RequestHandler } from \"express\";\r\nimport fs from \"fs\";\r\nimport path from \"path\";\r\nimport { randomUUID } from \"crypto\";\r\n\r\nconst DATA_DIR = path.resolve(process.cwd(), \"data\");\r\nconst CERTIFICATES_FILE = path.join(DATA_DIR, \"certificates.json\");\r\nconst ACTIVITIES_FILE = path.join(DATA_DIR, \"activities.json\");\r\n\r\ninterface Certificate {\r\n  id: string;\r\n  studentId: string;\r\n  activityId: string;\r\n  title: string;\r\n  description: string;\r\n  issuedBy: string;\r\n  issuedDate: string;\r\n  status: 'pending' | 'issued' | 'rejected';\r\n  filePath: string | null;\r\n  skills: string[];\r\n  category: string;\r\n  grade: string | null;\r\n  validUntil: string | null;\r\n  createdAt: number;\r\n}\r\n\r\ninterface Activity {\r\n  id: string;\r\n  title: string;\r\n  instructor: string;\r\n  skills: string[];\r\n  category: string;\r\n}\r\n\r\ninterface CertificatesDb {\r\n  certificates: Certificate[];\r\n}\r\n\r\ninterface ActivitiesDb {\r\n  activities: Activity[];\r\n}\r\n\r\nfunction readCertificates(): CertificatesDb {\r\n  if (!fs.existsSync(CERTIFICATES_FILE)) {\r\n    return { certificates: [] };\r\n  }\r\n  const raw = fs.readFileSync(CERTIFICATES_FILE, \"utf8\");\r\n  return JSON.parse(raw) as CertificatesDb;\r\n}\r\n\r\nfunction writeCertificates(db: CertificatesDb) {\r\n  fs.writeFileSync(CERTIFICATES_FILE, JSON.stringify(db, null, 2));\r\n}\r\n\r\nfunction readActivities(): ActivitiesDb {\r\n  if (!fs.existsSync(ACTIVITIES_FILE)) {\r\n    return { activities: [] };\r\n  }\r\n  const raw = fs.readFileSync(ACTIVITIES_FILE, \"utf8\");\r\n  return JSON.parse(raw) as ActivitiesDb;\r\n}\r\n\r\nexport const getCertificatesByStudent: RequestHandler = (req, res) => {\r\n  try {\r\n    const { studentId } = req.params;\r\n    const { status } = req.query;\r\n    \r\n    const certificatesDb = readCertificates();\r\n    const activitiesDb = readActivities();\r\n    \r\n    let certificates = certificatesDb.certificates.filter(cert => cert.studentId === studentId);\r\n    \r\n    if (status) {\r\n      certificates = certificates.filter(cert => cert.status === status);\r\n    }\r\n    \r\n    // Add activity details\r\n    const certificatesWithDetails = certificates.map(cert => {\r\n      const activity = activitiesDb.activities.find(a => a.id === cert.activityId);\r\n      return {\r\n        ...cert,\r\n        activity: activity || null\r\n      };\r\n    });\r\n    \r\n    res.json({ certificates: certificatesWithDetails });\r\n  } catch (error) {\r\n    console.error('Error fetching certificates:', error);\r\n    res.status(500).json({ error: 'Failed to fetch certificates' });\r\n  }\r\n};\r\n\r\nexport const getAllCertificates: RequestHandler = (req, res) => {\r\n  try {\r\n    const { status, category } = req.query;\r\n    \r\n    const certificatesDb = readCertificates();\r\n    const activitiesDb = readActivities();\r\n    \r\n    let certificates = certificatesDb.certificates;\r\n    \r\n    if (status) {\r\n      certificates = certificates.filter(cert => cert.status === status);\r\n    }\r\n    \r\n    if (category) {\r\n      certificates = certificates.filter(cert => cert.category === category);\r\n    }\r\n    \r\n    // Add activity details\r\n    const certificatesWithDetails = certificates.map(cert => {\r\n      const activity = activitiesDb.activities.find(a => a.id === cert.activityId);\r\n      return {\r\n        ...cert,\r\n        activity: activity || null\r\n      };\r\n    });\r\n    \r\n    res.json({ certificates: certificatesWithDetails });\r\n  } catch (error) {\r\n    console.error('Error fetching certificates:', error);\r\n    res.status(500).json({ error: 'Failed to fetch certificates' });\r\n  }\r\n};\r\n\r\nexport const issueCertificate: RequestHandler = (req, res) => {\r\n  try {\r\n    const { studentId, activityId, grade, notes } = req.body;\r\n    \r\n    const certificatesDb = readCertificates();\r\n    const activitiesDb = readActivities();\r\n    \r\n    const activity = activitiesDb.activities.find(a => a.id === activityId);\r\n    if (!activity) {\r\n      return res.status(404).json({ error: 'Activity not found' });\r\n    }\r\n    \r\n    // Check if certificate already exists\r\n    const existingCert = certificatesDb.certificates.find(\r\n      cert => cert.studentId === studentId && cert.activityId === activityId\r\n    );\r\n    \r\n    if (existingCert) {\r\n      return res.status(409).json({ error: 'Certificate already exists for this activity' });\r\n    }\r\n    \r\n    const newCertificate: Certificate = {\r\n      id: randomUUID(),\r\n      studentId,\r\n      activityId,\r\n      title: activity.title,\r\n      description: `Successfully completed ${activity.title}`,\r\n      issuedBy: req.body.issuedBy || 'System',\r\n      issuedDate: new Date().toISOString().split('T')[0],\r\n      status: 'issued',\r\n      filePath: `/certificates/${activity.title.toLowerCase().replace(/\\s+/g, '_')}_${studentId}.pdf`,\r\n      skills: activity.skills,\r\n      category: activity.category,\r\n      grade: grade || null,\r\n      validUntil: new Date(Date.now() + 2 * 365 * 24 * 60 * 60 * 1000).toISOString().split('T')[0], // 2 years from now\r\n      createdAt: Date.now()\r\n    };\r\n    \r\n    certificatesDb.certificates.push(newCertificate);\r\n    writeCertificates(certificatesDb);\r\n    \r\n    res.status(201).json({ certificate: newCertificate });\r\n  } catch (error) {\r\n    console.error('Error issuing certificate:', error);\r\n    res.status(500).json({ error: 'Failed to issue certificate' });\r\n  }\r\n};\r\n\r\nexport const updateCertificateStatus: RequestHandler = (req, res) => {\r\n  try {\r\n    const { certificateId } = req.params;\r\n    const { status, grade, notes } = req.body;\r\n    \r\n    const certificatesDb = readCertificates();\r\n    const certificate = certificatesDb.certificates.find(cert => cert.id === certificateId);\r\n    \r\n    if (!certificate) {\r\n      return res.status(404).json({ error: 'Certificate not found' });\r\n    }\r\n    \r\n    certificate.status = status;\r\n    if (grade) certificate.grade = grade;\r\n    \r\n    writeCertificates(certificatesDb);\r\n    \r\n    res.json({ certificate });\r\n  } catch (error) {\r\n    console.error('Error updating certificate status:', error);\r\n    res.status(500).json({ error: 'Failed to update certificate status' });\r\n  }\r\n};\r\n\r\nexport const getCertificateStats: RequestHandler = (req, res) => {\r\n  try {\r\n    const certificatesDb = readCertificates();\r\n    \r\n    const totalCertificates = certificatesDb.certificates.length;\r\n    const issuedCertificates = certificatesDb.certificates.filter(cert => cert.status === 'issued').length;\r\n    const pendingCertificates = certificatesDb.certificates.filter(cert => cert.status === 'pending').length;\r\n    const rejectedCertificates = certificatesDb.certificates.filter(cert => cert.status === 'rejected').length;\r\n    \r\n    // Group by category\r\n    const categoryStats = certificatesDb.certificates.reduce((acc, cert) => {\r\n      acc[cert.category] = (acc[cert.category] || 0) + 1;\r\n      return acc;\r\n    }, {} as Record<string, number>);\r\n    \r\n    // Group by month for trends\r\n    const monthlyStats = certificatesDb.certificates\r\n      .filter(cert => cert.status === 'issued')\r\n      .reduce((acc, cert) => {\r\n        const month = new Date(cert.issuedDate).toISOString().substring(0, 7); // YYYY-MM\r\n        acc[month] = (acc[month] || 0) + 1;\r\n        return acc;\r\n      }, {} as Record<string, number>);\r\n    \r\n    res.json({\r\n      total: totalCertificates,\r\n      issued: issuedCertificates,\r\n      pending: pendingCertificates,\r\n      rejected: rejectedCertificates,\r\n      categoryStats,\r\n      monthlyStats\r\n    });\r\n  } catch (error) {\r\n    console.error('Error fetching certificate stats:', error);\r\n    res.status(500).json({ error: 'Failed to fetch certificate statistics' });\r\n  }\r\n};\r\n","import \"dotenv/config\";\nimport express from \"express\";\nimport cors from \"cors\";\nimport { handleDemo } from \"./routes/demo\";\nimport { handleLogin, handleRegister } from \"./routes/auth\";\nimport { generatePortfolio, analyzeCertificates, getJobRoles } from \"./routes/portfolio\";\nimport { \n  getActivities, \n  getActivityById, \n  createActivity, \n  applyToActivity, \n  getStudentApplications, \n  updateApplicationStatus \n} from \"./routes/activities\";\nimport { \n  getAttendanceByStudent, \n  getAttendanceByActivity, \n  markAttendance, \n  getAttendanceStats \n} from \"./routes/attendance\";\nimport { \n  getCertificatesByStudent, \n  getAllCertificates, \n  issueCertificate, \n  updateCertificateStatus, \n  getCertificateStats \n} from \"./routes/certificates\";\n\nexport function createServer() {\n  const app = express();\n\n  // Middleware\n  app.use(cors());\n  app.use(express.json());\n  app.use(express.urlencoded({ extended: true }));\n\n  // Example API routes\n  app.get(\"/api/ping\", (_req, res) => {\n    const ping = process.env.PING_MESSAGE ?? \"ping\";\n    res.json({ message: ping });\n  });\n\n  app.get(\"/api/demo\", handleDemo);\n\n  // Auth routes\n  app.post(\"/api/auth/register\", handleRegister);\n  app.post(\"/api/auth/login\", handleLogin);\n\n  // Portfolio and Analysis routes\n  app.post(\"/api/portfolio/generate\", generatePortfolio);\n  app.post(\"/api/portfolio/analyze\", analyzeCertificates);\n  app.get(\"/api/portfolio/job-roles\", getJobRoles);\n\n  // Activities routes\n  app.get(\"/api/activities\", getActivities);\n  app.get(\"/api/activities/:id\", getActivityById);\n  app.post(\"/api/activities\", createActivity);\n  app.post(\"/api/activities/apply\", applyToActivity);\n  app.get(\"/api/students/:studentId/applications\", getStudentApplications);\n  app.put(\"/api/applications/:applicationId/status\", updateApplicationStatus);\n\n  // Attendance routes\n  app.get(\"/api/students/:studentId/attendance\", getAttendanceByStudent);\n  app.get(\"/api/activities/:activityId/attendance\", getAttendanceByActivity);\n  app.post(\"/api/activities/:activityId/attendance\", markAttendance);\n  app.get(\"/api/students/:studentId/attendance/stats\", getAttendanceStats);\n\n  // Certificates routes\n  app.get(\"/api/students/:studentId/certificates\", getCertificatesByStudent);\n  app.get(\"/api/certificates\", getAllCertificates);\n  app.post(\"/api/certificates/issue\", issueCertificate);\n  app.put(\"/api/certificates/:certificateId/status\", updateCertificateStatus);\n  app.get(\"/api/certificates/stats\", getCertificateStats);\n\n  return app;\n}\n","import path from \"path\";\nimport { createServer } from \"./index\";\nimport * as express from \"express\";\n\nconst app = createServer();\nconst port = process.env.PORT || 3000;\n\n// In production, serve the built SPA files\nconst __dirname = import.meta.dirname;\nconst distPath = path.join(__dirname, \"../spa\");\n\n// Serve static files\napp.use(express.static(distPath));\n\n// Handle React Router - serve index.html for all non-API routes\napp.get(\"*\", (req, res) => {\n  // Don't serve index.html for API routes\n  if (req.path.startsWith(\"/api/\") || req.path.startsWith(\"/health\")) {\n    return res.status(404).json({ error: \"API endpoint not found\" });\n  }\n\n  res.sendFile(path.join(distPath, \"index.html\"));\n});\n\napp.listen(port, () => {\n  console.log(`ðŸš€ Fusion Starter server running on port ${port}`);\n  console.log(`ðŸ“± Frontend: http://localhost:${port}`);\n  console.log(`ðŸ”§ API: http://localhost:${port}/api`);\n});\n\n// Graceful shutdown\nprocess.on(\"SIGTERM\", () => {\n  console.log(\"ðŸ›‘ Received SIGTERM, shutting down gracefully\");\n  process.exit(0);\n});\n\nprocess.on(\"SIGINT\", () => {\n  console.log(\"ðŸ›‘ Received SIGINT, shutting down gracefully\");\n  process.exit(0);\n});\n"],"names":["DATA_DIR","ACTIVITIES_FILE","readActivities","app","express"],"mappings":"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"}